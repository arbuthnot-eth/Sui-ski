name = "sui-ski-gateway"
main = "src/index.ts"
compatibility_date = "2025-01-15"
compatibility_flags = ["nodejs_compat"]
account_id = "6a10ee79fe9d21b5e2c3155ce8690742"

# Wildcard route for *.sui.ski
routes = [
  { pattern = "*.sui.ski/*", zone_name = "sui.ski" },
  { pattern = "sui.ski/*", zone_name = "sui.ski" }
]

# Environment variables (non-sensitive)
[vars]
SUI_NETWORK = "mainnet"
# SUI_RPC_URL set via `wrangler secret put SUI_RPC_URL` (Triton token URL)
WALRUS_NETWORK = "mainnet"
# Seal configuration for encrypted messaging (using TESTNET for open mode key servers)
# Main app uses mainnet, but Seal uses testnet because mainnet key servers require registration
SEAL_NETWORK = "testnet"
SEAL_PACKAGE_ID = "0x8afa5d31dbaa0a8fb07082692940ca3d56b5e856c5126cb5a3693f0a4de63b82"
# Testnet open mode key servers (no registration required)
# Mysten Labs #1, Mysten Labs #2, Triton One - using 3 for threshold encryption
SEAL_KEY_SERVERS = "0x73d05d62c18d9374e3ea529e8e0ed6161da1a141a94d3f76ae3fe4e99356db75,0xf5d14a81a982144ae441cd7d64b09027f116a468bd36e7eca494f750591623c8,0x4cded1abeb52a22b6becb42a91d3686a4c901cf52eee16234214d0b5b2da4c46"
# IKA dWallet package ID for cross-chain control (set when deploying IKA integration)
# IKA_PACKAGE_ID = ""
# Agency registry object ID (set after deploying agency registry contract)
# AGENCY_REGISTRY_ID = ""
# LLM API URL (defaults to Anthropic if not set)
# LLM_API_URL = "https://api.anthropic.com/v1/messages"

# Secrets (set via `wrangler secret put <NAME>`)
# LLM_API_KEY - API key for LLM provider (Anthropic/OpenAI)

# KV namespace for caching resolved names
[[kv_namespaces]]
binding = "CACHE"
id = "c0054cf22c6a4daa99cb36347fa5229c"
